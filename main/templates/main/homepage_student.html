{% extends "main/header.html"%} 
{% block content %}

<h1>Bienvenido Estudiante</h1>
<h2>Listado de tutores</h2>
<div class="card-group">
  {% for tutor in tutors %}
  <div id="TutorList">
    <div class="col-sm-4">
      <div class="card" style="width: 400px">
        <div style="display: flex" style="justify-content: center">
          <img src="https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png"
            class="card-img" alt="..." style="width: 200px" />
        </div>
        <div class="card-content">
          <span class="card-title activator grey-text text-darken-4">
            <h5 class="card-title" id="">{{ tutor.user.username }}</h5>
            <p class="card-text">{{ tutor.description }}</p>
          </span>
          {% for subject in tutor.subjects.all %}
          <li class="list-group-item">
            {{ subject.name }}
          </li>
          {% endfor %}
        </div> 
        <button type="button" class="btn btn-primary" value="{{tutor.user.username}}" onclick="Test(this.value)">Solicitar Tutor√≠a</button>
        <buttom>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<script type="text/javascript">

    function Test2(element){
      console.log(element) 
    }

    function Test(element){
      
      $.ajax({
        method: "POST",
        url: '/homepage_student/',
        dataType: "json",
        async: true,
        data: {
          csrfmiddlewaretoken:"{{ csrf_token }}",
          Tutor_User: element,  
      },
        success: function(json){
          alert("Success");
        }
      });
    };
  </script>
{% endblock %}